<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Scholarship Application Form</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0; padding: 0;
      background: #f4f4f9;
    }
    .container {
      max-width: 800px;
      margin: 80px auto 40px auto;
      background: #fff;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    h2 { color: #333; }
    .form-section {
      margin-bottom: 20px;
      padding: 15px;
      border: 1px solid #ddd;
      border-radius: 8px;
      background: #fafafa;
    }
    label { display: block; margin-bottom: 8px; font-weight: bold; }
    input, textarea, select {
      width: 100%;
      padding: 8px;
      margin-bottom: 12px;
      border: 1px solid #ccc;
      border-radius: 5px;
    }
    button {
      background: #28a745;
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    button:hover { background: #218838; }
    .hidden { display: none; }
    .success-message {
      text-align: center;
      padding: 30px;
    }
    /* Countdown bar */
    .countdown {
      position: fixed;
      top: 0; left: 0; right: 0;
      background: red;
      color: white;
      font-size: 20px;
      font-weight: bold;
      text-align: center;
      padding: 10px;
      z-index: 9999;
    }
  </style>
</head>
<body>

  <!-- Sticky Countdown -->
  <div id="countdown" class="countdown"></div>

  <div class="container">
    <form id="scholarshipForm">
      <!-- Section 1: Personal Information -->
      <div class="form-section">
        <h2>Section 1: Personal Information</h2>
        <label>Full Name:</label>
        <input type="text" name="fullName" required>
        <label>Date of Birth:</label>
        <input type="date" name="dob" required>
        <label>Email Address:</label>
        <input type="email" name="email" required>
        <label>Phone Number:</label>
        <input type="tel" name="phone" required>
      </div>

      <!-- Section 2: Academic Information -->
      <div class="form-section">
        <h2>Section 2: Academic Information</h2>
        <label>Current Institution:</label>
        <input type="text" name="institution" required>
        <label>Level of Study:</label>
        <select name="level" required>
          <option value="">--Select--</option>
          <option value="High School">High School</option>
          <option value="Undergraduate">Undergraduate</option>
          <option value="Postgraduate">Postgraduate</option>
        </select>
        <label>Field of Study:</label>
        <input type="text" name="field" required>
      </div>

      <!-- Section 3: Motivation Statement -->
      <div class="form-section">
        <h2>Section 3: Motivation Statement</h2>
        <label>Why do you deserve this scholarship?</label>
        <textarea name="motivation" rows="5" required></textarea>
      </div>

      <!-- Section 4: Financial Information -->
      <div class="form-section">
        <h2>Section 4: Financial Information</h2>
        <label>Type of Assistance:</label>
        <input type="checkbox" name="assistance" value="Tuition"> Tuition<br>
        <input type="checkbox" name="assistance" value="Books"> Books<br>
        <input type="checkbox" name="assistance" value="Living Expenses"> Living Expenses<br>
        <input type="checkbox" name="assistance" value="Other"> Other<br>
        <label>Amount of Support Needed:</label>
        <input type="number" name="amount" required>
      </div>

      <!-- Section 5: Extracurricular Activities -->
      <div class="form-section">
        <h2>Section 5: Extracurricular Activities</h2>
        <label>List your extracurricular activities and achievements:</label>
        <textarea name="activities" rows="4"></textarea>
      </div>

      <!-- Section 6: Document Upload -->
      <div class="form-section">
        <h2>Section 6: Document Upload</h2>
        <label>Upload Transcripts:</label>
        <input type="file" name="transcript" accept=".pdf,.jpg,.png">
        <label>Upload Recommendation Letter:</label>
        <input type="file" name="recommendation" accept=".pdf,.jpg,.png">
      </div>

      <!-- Section 7: Declaration -->
      <div class="form-section">
        <h2>Section 7: Declaration</h2>
        <label><input type="checkbox" name="declaration" required> I hereby declare that the information provided is true and correct.</label>
      </div>

      <!-- Section 8: Account Information -->
      <div class="form-section">
        <h2>Section 8: Account Information</h2>
        <label>Enter details where the funds should be sent (Scholarship, Bursary, Pocket, etc.):</label>
        <textarea name="accountInfo" rows="3" required></textarea>
      </div>

      <button type="submit">Submit Application</button>
    </form>

    <!-- Success Message -->
    <div id="successMessage" class="success-message hidden">
      <h2>Application Submitted Successfully!</h2>
      <p>Your application has been recorded. A refundable fee may apply.</p>
      <button onclick="redirectToWhatsApp()">Done</button>
    </div>
  </div>

  <script>
    document.getElementById("scholarshipForm").addEventListener("submit", function(e) {
      e.preventDefault();
      const formData = new FormData(this);
      const name = formData.get("fullName");
      const assistanceTypes = formData.getAll("assistance").join(", ");
      const amount = formData.get("amount");

      // Show success message
      this.classList.add("hidden");
      document.getElementById("successMessage").classList.remove("hidden");

      // Prepare WhatsApp message
      window.applicantMessage = `Hello, my name is ${name}. I have applied for assistance (${assistanceTypes}) with an amount of ${amount}.`;
    });

    function redirectToWhatsApp() {
      const message = encodeURIComponent(window.applicantMessage || "I have submitted my scholarship application.");
      window.location.href = `https://wa.me/254763019802?text=${message}`;
    }

    // Countdown Script
    window.onload = function() {
      const countdownEl = document.getElementById("countdown");
      let endTime = localStorage.getItem("deadlineEnd");

      if (!endTime) {
        endTime = new Date().getTime() + (30 * 24 * 60 * 60 * 1000);
        localStorage.setItem("deadlineEnd", endTime);
      } else {
        endTime = parseInt(endTime);
      }

      function updateCountdown() {
        const now = new Date().getTime();
        let distance = endTime - now;

        if (distance <= 0) {
          endTime = new Date().getTime() + (30 * 24 * 60 * 60 * 1000);
          localStorage.setItem("deadlineEnd", endTime);
          distance = endTime - now;
        }

        const days = Math.floor(distance / (1000 * 60 * 60 * 24));
        const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((distance % (1000 * 60)) / 1000);

        countdownEl.innerHTML = `⏳ Deadline: <strong>${days}d ${hours}h ${minutes}m ${seconds}s</strong>`;
      }

      updateCountdown();
      setInterval(updateCountdown, 1000);
    }
  </script>
</body>
          </html>
